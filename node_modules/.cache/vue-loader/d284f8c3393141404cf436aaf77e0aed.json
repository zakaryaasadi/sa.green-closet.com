{"remainingRequest":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\Web Projects\\sa.green-closet.com\\src\\components\\SignupForm.vue?vue&type=style&index=0&id=943f3ba8&lang=scss&scoped=true&","dependencies":[{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\src\\components\\SignupForm.vue","mtime":1689261780799},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\css-loader\\dist\\cjs.js","mtime":1655981864683},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1655981866065},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\postcss-loader\\src\\index.js","mtime":1655981865327},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1655981863972},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655981863969},{"path":"D:\\Projects\\Web Projects\\sa.green-closet.com\\node_modules\\vue-loader\\lib\\index.js","mtime":1655981865577}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5zdWNjZXNzLWltZyB7DQogIHdpZHRoOiA4MHB4Ow0KICBoZWlnaHQ6IDgwcHg7DQp9DQouYnRuLXByaW1hcnkgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgZm9udC13ZWlnaHQ6IDkwMDsNCiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50Ow0KfQ0KLmZvcm1fYm9keSB7DQogIHotaW5kZXg6IDE7DQogIHAgew0KICAgIG1hcmdpbjogMTBweCAwOw0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KICAgIGNvbG9yOiAkdGV4dC1jb2xvcjsNCiAgICBmb250LXdlaWdodDogNTAwOw0KICAgIGEgew0KICAgICAgY29sb3I6ICRwcmltYXJ5LWNvbG9yOw0KICAgIH0NCiAgfQ0KfQ0KLm1hcF8gew0KICAuZm9ybS1jb250cm9sIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgei1pbmRleDogMTsNCiAgfQ0KfQ0KLm1hcF93cmFwcCB7DQogIGJhY2tncm91bmQ6ICRzaGFkZTsNCiAgaGVpZ2h0OiAxNDVweDsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICB0b3A6IC0xMHB4Ow0KICBib3JkZXItcmFkaXVzOiAwIDAgOXB4IDlweDsNCn0NCi5mb3JtLWdyb3VwIHsNCiAgcCB7DQogICAgc3BhbiB7DQogICAgICBjb2xvcjogJHByaW1hcnktY29sb3I7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["SignupForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignupForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <!-- Breakdown Components as deemed fit -->\r\n  <div class=\"form_wrapp\">\r\n    <div class=\"form_header\">\r\n      <div class=\"form_caption\">\r\n        <h2>طلب تبرع جديد</h2>\r\n        <!-- <p>سيتم التواصل معك من قبل المندوب لتأكيد موعد الاستلام</p> -->\r\n      </div>\r\n      <span class=\"icon_view\">\r\n        <svg\r\n          width=\"21px\"\r\n          height=\"24px\"\r\n          viewBox=\"0 0 21 24\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        >\r\n          <g\r\n            id=\"Website\"\r\n            stroke=\"none\"\r\n            stroke-width=\"1\"\r\n            fill=\"none\"\r\n            fill-rule=\"evenodd\"\r\n          >\r\n            <g\r\n              id=\"Landing-Page\"\r\n              transform=\"translate(-203.000000, -283.000000)\"\r\n              stroke=\"#FFFFFF\"\r\n            >\r\n              <g id=\"Group-12\" transform=\"translate(160.000000, 229.000000)\">\r\n                <g id=\"Group-4\" transform=\"translate(34.000000, 46.000000)\">\r\n                  <g id=\"Group-2\" transform=\"translate(9.000000, 8.000000)\">\r\n                    <rect\r\n                      id=\"Rectangle\"\r\n                      x=\"1\"\r\n                      y=\"3.5\"\r\n                      width=\"16\"\r\n                      height=\"20\"\r\n                      rx=\"2\"\r\n                    ></rect>\r\n                    <rect\r\n                      id=\"Rectangle-Copy\"\r\n                      fill=\"#008451\"\r\n                      x=\"4\"\r\n                      y=\"0.5\"\r\n                      width=\"16\"\r\n                      height=\"20\"\r\n                      rx=\"2\"\r\n                    ></rect>\r\n                    <path\r\n                      d=\"M6,4.52112117 C7.33333333,4.50704039 8.66666667,4.49295961 10,4.47887883\"\r\n                      id=\"Path\"\r\n                    ></path>\r\n                    <polyline\r\n                      id=\"Path-2\"\r\n                      points=\"6 4.5 6.57022977 4.5 6.5966034 4.5 6.65414585 4.5 7.42017982 4.5 7.44375624 4.5 7.5016983 4.5 7.5976024 4.5 7.65594406 4.5 7.71388611 4.5 7.80979021 4.5 7.83616384 4.5 7.89450549 4.5 7.94725275 4.5 7.97362637 4.5 8 4.5\"\r\n                    ></polyline>\r\n                    <path\r\n                      d=\"M6,6.63627492 C9.66666667,6.54542497 13.3333333,6.45457503 17,6.36372508\"\r\n                      id=\"Path-3\"\r\n                    ></path>\r\n                    <path\r\n                      d=\"M6,8.40111191 C10,8.26416188 14,8.73583812 18,8.59888809\"\r\n                      id=\"Path-4\"\r\n                    ></path>\r\n                    <polyline\r\n                      id=\"Path-5\"\r\n                      points=\"6 11.5 14.5111097 11.5 15.9211572 11.5 15.9609044 11.5 16 11.5\"\r\n                    ></polyline>\r\n                    <polyline\r\n                      id=\"Path-6\"\r\n                      points=\"6 13.5 7.18642091 13.5 10.0013999 13.5 10.9241717 13.5 11 13.5\"\r\n                    ></polyline>\r\n                    <polyline\r\n                      id=\"Path-7\"\r\n                      points=\"6 13.5 6.7901569 13.5 7.21966362 13.5 9.08443391 13.5 9.85370809 13.5 10.0501185 13.5 10.185574 13.5 10.3825488 13.5 10.5180043 13.5 11 13.5\"\r\n                    ></polyline>\r\n                    <polyline\r\n                      id=\"Path-8\"\r\n                      points=\"6 16.5 10.7195019 16.5 16 16.5\"\r\n                    ></polyline>\r\n                  </g>\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </svg>\r\n      </span>\r\n    </div>\r\n    <div class=\"form_body\">\r\n      <b-form ref=\"signup_modal\" @submit.prevent=\"registerCustomer\">\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"الاسم\"\r\n            v-model=\"newCustomer.name\"\r\n            required\r\n          />\r\n        </div>\r\n        <!-- <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"اسم االمستخدم\"\r\n            v-model=\"newCustomer.username\"\r\n            required\r\n          />\r\n          <small class=\"text-danger\" v-if=\"errors.username\">{{\r\n            errors.username\r\n          }}</small>\r\n        </div> -->\r\n        <div class=\"form-group\">\r\n          <VuePhoneNumberInput\r\n            v-model=\"newCustomer.phone\"\r\n            @update=\"onUpdate\"\r\n            default-country-code=\"SA\"\r\n            :only-countries=\"['SA']\"\r\n            :inputOptions=\"optionsPhoneNumber\"\r\n            phoneNumberLabel=\"ااااشسبشسيب\"\r\n            countrySelectorLabel=\"يسبلسيبل\"\r\n            example=\"شسبسشيب\"\r\n            required\r\n          />\r\n          <small class=\"text-danger\" v-if=\"errors.phone\">{{\r\n            errors.phone\r\n          }}</small>\r\n        </div>\r\n        <!-- <div class=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            placeholder=\"رقم الجوال\"\r\n            v-model=\"newCustomer.email\"\r\n            required\r\n          />\r\n          <small class=\"text-danger\" v-if=\"errors.email\">{{\r\n            errors.email\r\n          }}</small>\r\n        </div> -->\r\n        <!-- <div class=\"input-group\">\r\n          <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            placeholder=\"أدخل كلمة المرور\"\r\n            v-model=\"newCustomer.password\"\r\n            required\r\n          />\r\n          <i class=\"fas fa-eye-slash\" @click=\"togglePasswordVisibility\"></i\r\n          >\r\n        </div> -->\r\n        <!-- <div class=\"input-group\" v-else>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"أدخل كلمة المرور\"\r\n            v-model=\"newCustomer.password\"\r\n          />\r\n          <i class=\"fas fa-eye\" @click=\"togglePasswordVisibility\"></i\r\n          >\r\n        </div> -->\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"المدينة\"\r\n            v-model=\"newCustomer.city\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"اسم الحي\"\r\n            v-model=\"newCustomer.district\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"أقرب معلم - اسم الشارع\"\r\n            v-model=\"newCustomer.address\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <button class=\"btn btn-primary btn-block\">\r\n            <span>إنشاءالطلب</span>\r\n            <div\r\n              class=\"spinner-border text-light ms-2\"\r\n              role=\"status\"\r\n              v-if=\"registerLoading\"\r\n            >\r\n              <span class=\"visually-hidden\"></span>\r\n            </div>\r\n            <span class=\"icon_\" v-else>\r\n              <svg\r\n                width=\"35\"\r\n                height=\"22\"\r\n                viewBox=\"0 0 35 22\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M33 11.043H2\"\r\n                  stroke=\"#ffffff\"\r\n                  stroke-width=\"3\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n                <path\r\n                  d=\"M11.0417 20.0833L2 11.0417L11.0417 2\"\r\n                  stroke=\"#ffffff\"\r\n                  stroke-width=\"3\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </button>\r\n          <!-- <p v-if=\"signuppage\">\r\n            لديك طلب قائم؟\r\n            <span>تابع حالة طلبك من خلال هذا الرابط</span>\r\n          </p> -->\r\n          <p>يمكنك تحديد اليوم بعد الضغط على إنشاء الطلب</p>\r\n        </div>\r\n      </b-form>\r\n    </div>\r\n\r\n    <!-- Task Modal -->\r\n    <b-modal\r\n      ref=\"task_modal\"\r\n      content-class=\"side_modal\"\r\n      left\r\n      hide-footer\r\n      hide-header\r\n    >\r\n      <div class=\"modal__container\">\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"col-md-6 text-left\">\r\n            <img\r\n              style=\"cursor: pointer\"\r\n              @click=\"hideTaskModal\"\r\n              height=\"20\"\r\n              width=\"20\"\r\n              src=\"../assets/img/close.png\"\r\n              alt=\"Close icon\"\r\n            />\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <h4>طلب تبرع جديد</h4>\r\n          </div>\r\n        </div>\r\n        <div class=\"section_info\">\r\n          <div class=\"card_info info\">\r\n            <p>{{ customer.name }}</p>\r\n            <p>{{ this.formattedPhone }}</p>\r\n            <p>{{ customer.address }}</p>\r\n            <p>{{ customer.email }}</p>\r\n          </div>\r\n          <!-- <p class=\"info_part\">سيتم التواصل معك من قبل المندوب لتأكيد موعد الاستلام</p> -->\r\n        </div>\r\n\r\n       \r\n        <button\r\n          class=\"btn btn-green btn-block\"\r\n          type=\"submit\"\r\n          v-if=\"taskLoading\"\r\n        >\r\n          <span>جار التحميل</span>\r\n          <div class=\"spinner-border text-light ms-2\" role=\"status\">\r\n            <span class=\"visually-hidden\"></span>\r\n          </div>\r\n        </button>\r\n        <button class=\"btn btn-green btn-block\" @click=\"createtask\" v-else>\r\n          <span class=\"cta-text\">ارسال الطلب</span>\r\n          <span class=\"check_\">\r\n            <svg\r\n              width=\"13\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 13 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                clip-rule=\"evenodd\"\r\n                d=\"M12.9979 0.887183L4.26693 11.1945L3.45269 11.1576L0 6.24127L0.843095 5.65023L3.91266 10.0197L12.2122 0.220703L13 0.887183H12.9979Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </b-modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import VueGoogleAutocomplete from \"vue-google-autocomplete\";\r\n// import VueTimepicker from \"vue2-timepicker/src/vue-timepicker.vue\";\r\nimport VuePhoneNumberInput from \"vue-phone-number-input\";\r\n// import mapboxgl from \"mapbox-gl\";\r\n// import MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\r\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\nimport \"vue-phone-number-input/dist/vue-phone-number-input.css\";\r\nimport eventHub from \"../../eventBus\";\r\n// import $ from \"jquery\";\r\n\r\nexport default {\r\n  components: {\r\n    VuePhoneNumberInput,\r\n\r\n    // VueTimepicker,\r\n    // VueGoogleAutocomplete,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedCard: {},\r\n      checkedCard: false,\r\n      successfulTask: false,\r\n      loginLoading: false,\r\n      updatePasswordLoading: false,\r\n      taskLoading: false,\r\n      registerLoading: false,\r\n      customer: \"\",\r\n      optionsPhoneNumber: { placeholder: \"إدخال رقم الهاتف\" },\r\n      newCustomer: {\r\n        name: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        city: \"\",\r\n        district: \"\",\r\n        address: \"\",\r\n        latitude: 0,\r\n        longitude: 0,\r\n      },\r\n      returningCustomer: {\r\n        latitude: \"\",\r\n        longitude: \"\",\r\n      },\r\n      task: \"\",\r\n      newTask: {},\r\n      updatePassword: {\r\n        password: \"\",\r\n      },\r\n      formattedPhone: \"\",\r\n      returningCustomerFormattedPhone: \"\",\r\n      passwordVisible: false,\r\n      donations: \"\",\r\n      availableDates: [],\r\n      yourDaysArray: [\r\n        {\r\n          start_time: { HH: \"08\", mm: \"00\" },\r\n          end_time: { HH: \"09\", mm: \"00\" },\r\n        },\r\n      ],\r\n      errors: {},\r\n      locationData: {},\r\n      donationType: [],\r\n      activeDonationType: false,\r\n      selectedDonationCard: {},\r\n      selectedDate: \"\",\r\n      address: \"\",\r\n      location: \"\",\r\n      center: [0, 0],\r\n      map: {},\r\n      markerOption: {\r\n        draggable: true,\r\n        animation: 1,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    options() {\r\n      return {\r\n        center: {\r\n          lat: this.newCustomer.latitude,\r\n          lng: this.newCustomer.longitude,\r\n        },\r\n        zoom: 12,\r\n      };\r\n    },\r\n    position() {\r\n      return {\r\n        lat: this.newCustomer.latitude,\r\n        lng: this.newCustomer.longitude,\r\n      };\r\n    },\r\n    donationCard() {\r\n      return this.donationType.filter((donation) => {\r\n        if (this.selectedDonationCard.id == donation.id) {\r\n          return donation.id;\r\n        }\r\n      });\r\n    },\r\n  },\r\n  props: [\"signuppage\"],\r\n  mounted() {\r\n    this.getDonationsType();\r\n    this.getCurrentLocation();\r\n    // this.$modal.hide(\"success_modal\");\r\n  },\r\n  created() {\r\n    eventHub.$on(\"customChange\", this.loginModalFunc);\r\n  },\r\n  methods: {\r\n    // updateLocation(pos) {\r\n    //   this.newCustomer.latitude = pos.lat;\r\n    //   this.newCustomer.longitude = pos.lng;\r\n    //   this.getCurrentAddress({ lat: pos.lat, lng: pos.lng });\r\n    // },\r\n    makeToast() {\r\n      this.$bvToast.toast(\"عفوًا ... خطأ في إنشاء المهمة\", {\r\n        title: `خطأ`,\r\n        variant: \"danger\",\r\n        solid: true,\r\n      });\r\n    },\r\n    showEvent(e) {\r\n      console.log({ event: e });\r\n    },\r\n    checkDonationType() {},\r\n    getAddressData(addressData, placeResultData) {\r\n      this.newCustomer.address = placeResultData.formatted_address;\r\n      this.newCustomer.latitude = addressData.latitude;\r\n      this.newCustomer.longitude = addressData.longitude;\r\n      this.center[0] = addressData.latitude;\r\n      this.center[1] = addressData.longitude;\r\n    },\r\n\r\n    async updatePasswordFunc() {\r\n      this.updatePasswordLoading = true;\r\n      let url = `https://apiv1.kiswaksa.com/api/customer/update-password`;\r\n      let payload = {};\r\n      payload.email = this.customer.email;\r\n      payload.new_password = this.updatePassword.passowrd;\r\n      try {\r\n        let res = await this.$http.post(url, payload);\r\n        console.log({ PassWordUpdate: res });\r\n        this.updatePasswordLoading = false;\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.updatePasswordLoading = false;\r\n      }\r\n    },\r\n    loginModalFunc(value) {\r\n      if (value == true) {\r\n        this.$refs[\"login_modal\"].show();\r\n      }\r\n    },\r\n    result(e) {\r\n      console.log({ e });\r\n    },\r\n    hideTaskModal() {\r\n      this.$refs[\"task_modal\"].hide();\r\n    },\r\n\r\n    async getCurrentLocation() {\r\n      let res = await this.$getLocation();\r\n      this.getCurrentAddress(res);\r\n      console.log({ coordinates: res });\r\n      this.newCustomer.latitude = res.lat;\r\n      this.newCustomer.longitude = res.lng;\r\n      this.returningCustomer.latitude = res.lat;\r\n      this.returningCustomer.longitude = res.lng;\r\n      this.center[0] = res.lat;\r\n      this.center[1] = res.lng;\r\n    },\r\n    onUpdate(e) {\r\n      console.log({ e });\r\n      if (e.formattedNumber) {\r\n        console.log({ phoneNumber: e.formattedNumber });\r\n        this.formattedPhone = e.formattedNumber;\r\n        // this.profile.phone = e.formattedNumber\r\n      }\r\n    },\r\n    setDonationType(e, card) {\r\n      this.selectedDonationCard = card;\r\n      console.log({ donationType: this.donationType });\r\n    },\r\n    registerCustomer() {\r\n      this.registerLoading = true;\r\n      this.newCustomer.phone = this.formattedPhone;\r\n      this.customer = this.newCustomer;\r\n      localStorage.setItem(\"customer\", this.newCustomer);\r\n      this.getAvailableDates();\r\n      this.$refs[\"task_modal\"].show();\r\n      setTimeout(() => {\r\n        this.registerLoading = false;\r\n      }, 3000);\r\n    },\r\n    async loginCustomer() {\r\n      this.loginLoading = true;\r\n      let url = `https://apiv1.kiswaksa.com/api/customer/login`;\r\n      if (!this.returningCustomer.address) {\r\n        this.returningCustomer.address = \"Abu Dhabi\";\r\n      }\r\n\r\n      this.returningCustomer.phone = this.returningCustomerFormattedPhone;\r\n      let payload = {};\r\n      payload.email = this.returningCustomerFormattedPhone;\r\n      payload.password = this.returningCustomerFormattedPhone;\r\n      try {\r\n        let res = await this.$http.post(url, payload);\r\n        console.log({ loginCustomer: res });\r\n        this.customer = res.data.data.user;\r\n        let token = res.data.data.token;\r\n\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"customer\", res.data.data.user);\r\n        if (token) {\r\n          this.getAvailableDates();\r\n          this.createLocation(\r\n            this.returningCustomer.address,\r\n            this.returningCustomer.latitude,\r\n            this.returningCustomer.longitude\r\n          );\r\n        }\r\n        this.loginLoading = false;\r\n        this.$refs[\"task_modal\"].show();\r\n        this.$refs[\"login_modal\"].hide();\r\n      } catch (error) {\r\n        this.loginLoading = false;\r\n        console.log(error);\r\n      }\r\n    },\r\n    async createtask() {\r\n      this.taskLoading = true;\r\n     let url = `https://services.kiswaksa.com/api/task/create`;\r\n      let payload = {};\r\n      payload.name = this.newCustomer.name\r\n      payload.phone = this.formattedPhone;\r\n      payload.address =\"الامارات العربية المتحدة - \" + this.newCustomer.city + \" - \" + this.newCustomer.district + \" - \" + this.newCustomer.address;\r\n      payload.country = \"UAE\";\r\n      payload.created_by = \"Website:Green-closet-ae\";\r\n\r\n\r\n\r\n      try {\r\n        let res = await this.$http.post(url, payload);\r\n        this.$refs[\"task_modal\"].hide();\r\n        this.$router.push(\"/success\");\r\n        this.newCustomer.name = \"\";\r\n        this.newCustomer.phone = \"\";\r\n        this.newCustomer.city = \"\";\r\n        this.newCustomer.district = \"\";\r\n        this.newCustomer.address = \"\";\r\n        this.taskLoading = false;\r\n        console.log(res);\r\n      } catch (error) {\r\n        this.taskLoading = false;\r\n        this.$refs[\"task_modal\"].hide();\r\n        this.makeToast();\r\n        this.newCustomer.name = \"\";\r\n        this.newCustomer.phone = \"\";\r\n        this.newCustomer.city = \"\";\r\n        this.newCustomer.district = \"\";\r\n        this.newCustomer.address = \"\";\r\n        if (error.response) {\r\n          console.log(error.response);\r\n        }\r\n      }\r\n    },\r\n    async createLocation(address, latitude, longitude) {\r\n      let url = `https://apiv1.kiswaksa.com/api/customer/locations`;\r\n      let payload = { is_default: \"1\", title: \"Home\" };\r\n      payload.address = address;\r\n      payload.latitude = latitude;\r\n      payload.longitude = longitude;\r\n      try {\r\n        let res = await this.$http.post(url, payload);\r\n        this.locationData = res.data.data;\r\n        localStorage.setItem(\"location\", this.locationData);\r\n      } catch (error) {\r\n        console.log(error);\r\n        if (error.response) {\r\n          console.log(error.response);\r\n        }\r\n      }\r\n    },\r\n    async getDonationsType() {\r\n      let url = `https://apiv1.kiswaksa.com/api/donation-types`;\r\n      try {\r\n        let res = await this.$http.get(url);\r\n        this.donations = res.data.data.data;\r\n      } catch (error) {\r\n        console.log(error);\r\n        if (error.response) {\r\n          console.log(error.response);\r\n        }\r\n      }\r\n    },\r\n    async getAvailableDates() {\r\n      let url = `https://apiv1.kiswaksa.com/api/web-dates?lat=${this.newCustomer.latitude}&lng=${this.newCustomer.longitude}`;\r\n      try {\r\n        let res = await this.$http.get(url);\r\n        console.log({ AvailableDates: res });\r\n        this.availableDates = res.data.data;\r\n        this.availableDates.shift();\r\n        localStorage.setItem(\"availableDates\", this.availableDates);\r\n      } catch (error) {\r\n        console.log(error);\r\n        if (error.response) {\r\n          console.log(error.response);\r\n        }\r\n      }\r\n    },\r\n    togglePasswordVisibility() {\r\n      !this.passwordVisible;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.success-img {\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n.btn-primary {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 900;\r\n  box-shadow: none !important;\r\n}\r\n.form_body {\r\n  z-index: 1;\r\n  p {\r\n    margin: 10px 0;\r\n    text-align: right;\r\n    color: $text-color;\r\n    font-weight: 500;\r\n    a {\r\n      color: $primary-color;\r\n    }\r\n  }\r\n}\r\n.map_ {\r\n  .form-control {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n}\r\n.map_wrapp {\r\n  background: $shade;\r\n  height: 145px;\r\n  position: relative;\r\n  top: -10px;\r\n  border-radius: 0 0 9px 9px;\r\n}\r\n.form-group {\r\n  p {\r\n    span {\r\n      color: $primary-color;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}