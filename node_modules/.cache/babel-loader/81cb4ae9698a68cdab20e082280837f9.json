{"remainingRequest":"D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\Web Projects\\new-greencloset.ae\\src\\views\\AllNews\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\src\\views\\AllNews\\index.vue","mtime":1641415930000},{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\babel.config.js","mtime":1642499299534},{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655981863969},{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\babel-loader\\lib\\index.js","mtime":1655981866419},{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655981863969},{"path":"D:\\Projects\\Web Projects\\new-greencloset.ae\\node_modules\\vue-loader\\lib\\index.js","mtime":1655981865577}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2VzSGVhZGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvUGFnZXNIZWFkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2VzSGVhZGVyCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld3M6IFtdLAogICAgICBhcnRpY2xlOiBudWxsLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgd2luZG93LmZicSgndHJhY2snLCAnYWxsTmV3cycpOwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE5ld3MoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjYW5jZWxOZXdzKCkgewogICAgICB0aGlzLiRtb2RhbC5oaWRlKCJtb3JlX25ld3MiKTsKICAgIH0sCgogICAgbW9yZU5ld3ModmFsdWUpIHsKICAgICAgdGhpcy5hcnRpY2xlID0gdmFsdWU7CiAgICAgIHRoaXMuJG1vZGFsLnNob3coIm1vcmVfbmV3cyIpOwogICAgfSwKCiAgICBhc3luYyBnZXROZXdzKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBsZXQgdXJsID0gYGh0dHBzOi8vYXBpdjEua2lzd2Frc2EuY29tL2FwaS9uZXdzYDsKCiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KHVybCk7CiAgICAgICAgdGhpcy5uZXdzID0gcmVzLmRhdGEuZGF0YS5kYXRhOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0sCiAgZmlsdGVyczogewogICAgdHJ1bmNhdGVTdHJpbmcoc3RyLCBudW0pIHsKICAgICAgLy8gSWYgdGhlIGxlbmd0aCBvZiBzdHIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIG51bQogICAgICAvLyBqdXN0IHJldHVybiBzdHItLWRvbid0IHRydW5jYXRlIGl0LgogICAgICBpZiAoc3RyLmxlbmd0aCA8PSBudW0pIHsKICAgICAgICByZXR1cm4gc3RyOwogICAgICB9IC8vIFJldHVybiBzdHIgdHJ1bmNhdGVkIHdpdGggJy4uLicgY29uY2F0ZW5hdGVkIHRvIHRoZSBlbmQgb2Ygc3RyLgoKCiAgICAgIHJldHVybiBzdHIuc2xpY2UoMCwgbnVtKSArICIuLi4iOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AAEA;EACAA;IAAAC;EAAA,CADA;;EAEAC;IACA;MACAC,QADA;MAEAC,aAFA;MAGAC;IAHA;EAKA,CARA;;EASAC;IACAC;EACA,CAXA;;EAYAC;IACA;EACA,CAdA;;EAeAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;IACA,CAPA;;IAQA;MACA;MACA;;MACA;QACA;QACA;QACA;MACA,CAJA,CAIA;QACA;QACAC;;QACA;UACAA;QACA;MACA;IACA;;EAtBA,CAfA;EAuCAC;IACAC;MACA;MACA;MACA;QACA;MACA,CALA,CAMA;;;MACA;IACA;;EATA;AAvCA","names":["components","PagesHeader","data","news","article","loading","created","window","mounted","methods","cancelNews","moreNews","console","filters","truncateString"],"sourceRoot":"src/views/AllNews","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"body\">\n    <PagesHeader />\n    <main>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <div class=\"align__flow\">\n              <h6>الأخبار</h6>\n              <p>\n                تابع أخبار مشروع كسوة أول بأول عن طريق الموقع أو بالاشتراك في\n                قائمة البريد الاخبارية\n              </p>\n            </div>\n          </div>\n          <div class=\"spinner-border text-info mx-auto mt-5\" role=\"status\" v-if=\"loading\">\n            <span class=\"visually-hidden\"></span>\n          </div>\n          <div class=\"col-md-12\" v-else>\n            <div\n              class=\"p__card main__\"\n              v-for=\"article in news\"\n              :key=\"article.id\"\n            >\n              <img :src=\"article.image\" :alt=\"`${article.title} thumbnail`\" />\n              <div class=\"card_overlay\">\n                <div class=\"p__info\">\n                  <h4>{{ article.title }}</h4>\n                  <p :inner-html.prop=\"article.text | truncateString(80)\"></p>\n                  <button class=\"btn btn-primary\" @click=\"moreNews(article)\">\n                    اقراء المزيد\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- News Modal -->\n      <modal\n        v-if=\"article\"\n        name=\"more_news\"\n        :width=\"700\"\n        height=\"auto\"\n        :resizable=\"true\"\n        :adaptive=\"true\"\n        :scrollable=\"true\"\n      >\n        <div class=\"text-right pr-3 pt-2\">\n          <small class=\"text-primary mb-3 cancel\" @click=\"cancelNews\"\n            ><b>x</b></small\n          >\n        </div>\n        <div class=\"more__news\">\n          <div class=\"p__info\">\n            <h4>{{ article.title }}</h4>\n            <p :inner-html.prop=\"article.text\"></p>\n          </div>\n          <img\n            :src=\"article.image\"\n            :alt=\"`${article.title} thumbnail`\"\n            class=\"more__news--image\"\n          />\n        </div>\n      </modal>\n      <!-- News Modal End-->\n    </main>\n  </div>\n</template>\n\n<script>\nimport PagesHeader from \"../../components/PagesHeader.vue\";\n\nexport default {\n  components: { PagesHeader },\n  data() {\n    return {\n      news: [],\n      article: null,\n      loading: false,\n    };\n  },\n  created() {\n    window.fbq('track', 'allNews');\n  },\n  mounted() {\n    this.getNews();\n  },\n  methods: {\n    cancelNews() {\n      this.$modal.hide(\"more_news\");\n    },\n    moreNews(value) {\n      this.article = value;\n      this.$modal.show(\"more_news\");\n    },\n    async getNews() {\n      this.loading = true;\n      let url = `https://apiv1.kiswaksa.com/api/news`;\n      try {\n        let res = await this.$http.get(url);\n        this.news = res.data.data.data;\n        this.loading = false;\n      } catch (error) {\n        this.loading = false;\n        console.log(error);\n        if (error.response) {\n          console.log(error.response);\n        }\n      }\n    },\n  },\n  filters: {\n    truncateString(str, num) {\n      // If the length of str is less than or equal to num\n      // just return str--don't truncate it.\n      if (str.length <= num) {\n        return str;\n      }\n      // Return str truncated with '...' concatenated to the end of str.\n      return str.slice(0, num) + \"...\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.cancel {\n  font-size: 16px;\n  cursor: pointer;\n  text-align: right;\n  padding-top: 30px;\n  padding-left: 10px;\n}\n\n.vm--modal .more__news {\n  padding: 30px !important;\n  text-align: right;\n}\n.more__news--image {\n  width: 600px !important;\n  margin: 0 auto !important;\n  object-fit: contain;\n  /* max-width: 400px; */\n}\n</style>"]}]}